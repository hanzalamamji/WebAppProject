
@{
    ViewBag.Title = "Index";
}

<link href="~/Content/css/Style.css" rel="stylesheet" />
<style>
    .dropdown_menu {
        font-size: 16px; /* Adjust the font size as needed */
        padding-right: 15px; /* Add some right padding to create space for the larger icon */
        background-image: url('../../Content/Images/Categories/chevron-down.png'); /* Replace with the path to your icon image */
        background-size: 20px; /* Adjust the size of the icon */
        background-position: calc(100% - 25px) center; /* Position the icon slightly left of the right edge and center vertically */
        background-repeat: no-repeat; /* Prevent the icon from repeating */
        appearance: none; /* Remove default appearance styles */
        -webkit-appearance: none; /* Remove default appearance styles for Safari */
    }
</style>
@*Banner Start*@
<div class="Category_image-container">
    <div class="Category_image-overlay">
        <div class="Banner-content">
            <h2 class="Category_banner-title ">Enhance Your Energy</h2>
            <h2 class="Category_banner-title ">Efficiency !</h2>
            <div class="Category_banner_about_div">
                <p class="Category_banner_about">Take the quiz and get valuable energy saving tips based on your result</p>
            </div>

        </div>
    </div>
</div>
@*Banner End*@
<div class="Bar_main_div2 container-fluid mt-5" style="color: black; display: flex; align-items: center;">
    <p style="margin: 15px 0 15px 15px;">
        Question 1 of 4:
    </p>
    <div class="progress_bar_container" style="background: #E3E8EC;">
        <div class="progress-bar bg-success">
        </div>
    </div>
</div>
<script>
    // Check the screen width when the page loads and when it resizes
    function checkScreenSize() {
        var screenWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;

        // Define the breakpoint for mobile screens (e.g., width <= 768 pixels)
        var mobileBreakpoint = 768;

        // Get the Bar_main_div2 element
        var barMainDiv2 = document.querySelector('.Bar_main_div2');

        // Hide or show the element based on screen width
        if (screenWidth <= mobileBreakpoint) {
            // Hide the element on mobile screens
            barMainDiv2.style.display = 'none';
        } else {
            // Show the element on larger screens
            barMainDiv2.style.display = 'flex';
        }
    }

    // Call the function when the page loads
    window.onload = checkScreenSize;

    // Call the function when the window resizes
    window.addEventListener('resize', checkScreenSize);
</script>
@*Selected Applaince Start*@
<div id="First_Question_div">

    <div class="container-fluid">
        <h1 class="Heading_Kitchen_Applaince">
            Alternate Electricity
        </h1>

        <div class="Selected_List">
            <ul class="Custom_List">
                <li style="  background: #E1FBED; color: #01853D; ">
                    <span class="item-name">Programmable thermostat</span>
                    <div class="icon-container_f">
                        <span class="true-icon"><i class="fas fa-check" style="font-size:16px;"></i></span>
                    </div>
                </li>
                <li>
                    <span class="item-name">Solar panels</span>
                    <div class="icon-container">

                    </div>
                </li>
                <li style="border-radius: 20px;opacity: 0.4;background: rgba(86, 167, 222, 0.20); ">
                    <span class="item-name">Smart power strip</span>
                    <div class="icon-container">

                    </div>
                </li>
                <li style="border-radius: 20px;opacity: 0.4;background: rgba(86, 167, 222, 0.20); ">
                    <span class="item-name">Electric car charger</span>
                    <div class="icon-container">

                    </div>
                </li>
                <li style="border-radius: 20px;opacity: 0.4;background: rgba(86, 167, 222, 0.20); ">
                    <span class="item-name">healthiest light bulbs</span>
                    <div class="icon-container">

                    </div>
                </li>
            </ul>
        </div>

    </div>
    @*Selected Applaince End*@

    @*Microwave Question no.1 Start*@
<div class="container-fluid" style="background: #F2FAFF; height:500px" id="autoscrolltodiv">
    <div class="refStartDiv">
        <a href="@Url.Action("Question4", "SolarWaterHeater")" style="text-decoration:none;color:#444444;"><i class="fas fa-arrow-left"></i></a>
        <h1>
            Solar panels
        </h1>
        <img src="~/Content/Images/Categories Icons/solarpanel.png" alt="" class="img-fluid">
        <p class="Que_Paragraph">
            <span class="Que_Span">
                Question no 1 :
            </span>
            How many Solar panels in your house?
        </p>
        <p class="Que_Quantity_Heading">
            No of Solar panels
            <span class="rounded-Div" onclick="decrementValue()">&minus;</span>
            <span id="valueSpan" class="mid-number">1</span>
            <span class="rounded-Div" onclick="incrementValue()">&plus;</span>
        </p>


        <div hidden>
            <input type="text" id="usernameInput" readonly>
        </div>

        <script>
            // Function to update the displayed username
            function updateUsername() {
                var usernameInput = document.getElementById("usernameInput").value;
                var usernameDisplay = document.getElementById("usernameDisplay");

                // Update the displayed username
                usernameDisplay.innerText = usernameInput;

                // Save the updated username to local storage
                localStorage.setItem("username", usernameInput);
            }

            // Retrieve the username from local storage and display it initially in an input field
            var savedUsername = localStorage.getItem("username");
            var usernameInput = document.getElementById("usernameInput");
            usernameInput.value = savedUsername;

            // Set the initial value of the displayed username
            var usernameDisplay = document.getElementById("usernameDisplay");
            usernameDisplay.innerText = savedUsername;

            // Automatically update the displayed username as the user types
            usernameInput.addEventListener("input", function () {
                var usernameInputValue = usernameInput.value;
                usernameDisplay.innerText = usernameInputValue;

                // Save the updated username to local storage in real-time
                localStorage.setItem("username", usernameInputValue);
            });
        </script>
    </div>
    <div class="row mt-3">
        <div class="col-lg-12 col-md-12 col-sm-12 mt-5 text-center-mobile" style="gap:6px;">
            <button id="Leave_btn_1" class="btn btn-primary rounded-pill">Leave quiz</button>
            <a id="Next_btn_1" href="@Url.Action("Question2", "WindTurbine")" onclick="saveValue()" class="btn btn-secondary rounded-pill">Next</a>
        </div>
    </div>


</div>

    @*Microwave Question no. 1 End*@

    @*Microwave Bar Start*@
    <div class="Bar_main_div container-fluid mt-5 d-md-none fixed-bottom">
        <p>
            Question 1 of 4 :
        </p>
        <div class="progress_bar_container">
            <div class="progress-bar bg-success">

            </div>
        </div>
    </div>
</div>
@*Microwave Bar End*@

<script>
    var currentValue = 1;

    function updateValueDisplay() {
        var valueSpan = document.getElementById("valueSpan");
        valueSpan.innerHTML = currentValue;
    }

    function incrementValue() {
        if (currentValue < 3) {
            currentValue += 1;
            updateValueDisplay();
        }
    }

    function decrementValue() {
        if (currentValue > 1) {
            currentValue -= 1;
            updateValueDisplay();
        }
    }

    function saveValue() {
        // Get the updated value
        var updatedValue = currentValue;

        // Get the username from the readonly input field
        var usernameInput = document.getElementById("usernameInput");
        var username = usernameInput.value;

        // Send an AJAX request to your server to insert the value into the database
        // You can use a library like jQuery or fetch to make the AJAX request
        // Example using jQuery:
        $.ajax({
            type: "POST",
            url: "@Url.Action("InsertRefrigilator", "WindTurbine")", // Replace "YourController" with the actual controller name
            data: { username: username, noOfRefrigilators: updatedValue },
            success: function (response) {
                // Handle success
                console.log("Value saved successfully.");
            },
            error: function (error) {
                // Handle error
                console.error("Error saving value: " + error.responseText);
            }
        });
    }

    window.onload = function () {
        updateValueDisplay();
    };
</script>
